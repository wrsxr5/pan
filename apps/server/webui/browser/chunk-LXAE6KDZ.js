import{a as u}from"./chunk-L6ZB6I4Q.js";import{E as p}from"./chunk-VUNKUA53.js";import{$ as n,T as c,W as o,i as s,t as r}from"./chunk-S4OIF5WA.js";var j=(()=>{class i{socketService;subject=new s;event=this.subject.asObservable();subscriptions=[];ngOnDestroy(){this.subject.complete(),this.subscriptions.forEach(t=>t.unsubscribe())}constructor(t){this.socketService=t,this.subscriptions.push(this.socketService.on(p).pipe(r(({data:e})=>JSON.parse(e)),c(e=>this.emit(e.style,e.message,e.duration))).subscribe())}on(){return this.event}emit(t,e,a=2333){this.subject.next({style:t,message:e,duration:a})}static \u0275fac=function(e){return new(e||i)(n(u))};static \u0275prov=o({token:i,factory:i.\u0275fac,providedIn:"root"})}return i})();export{j as a};
